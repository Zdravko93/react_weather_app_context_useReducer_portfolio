"use strict";(self.webpackChunkweather_app_react=self.webpackChunkweather_app_react||[]).push([[999],{584:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Se});var a=t(43);const s="DetailsCard_weather-details-main-flex__aIxf+",r="DetailsCard_fade-in__ZDySR",n="DetailsCard_weather-details-wrapper__y1ANN",c="DetailsCard_weather-details-header__4v9Ua",l="DetailsCard_weather-details-main__nxJqS",o="DetailsCard_weather-details-boxes__c0OUu",d="DetailsCard_weather-details-box__MdX49";var u=t(837),m=t(151),h=t(780),x=t(697),v=t(64);const p={"forecast-city":"ForecastCity_forecast-city__1eTXO","forecast-city-day-time":"ForecastCity_forecast-city-day-time__V-wrR"};var _=t(128),y=t(579);const j=a.memo(function(e){var i;let{currentDay:t,currentDate:a,currentTime:s}=e;const{forecastData:r}=(null===(i=(0,_.X)())||void 0===i?void 0:i.state)||{};if(null===r||void 0===r||!r.city)return(0,y.jsx)("section",{"aria-live":"polite",className:p["no-data"],children:"No data available for searched city."});const{name:n}=r.city;return(0,y.jsxs)(h.A,{WRAPPER:"div","aria-label":"".concat(n," weather forecast"),className:p["forecast-city"],children:[(0,y.jsx)("h2",{children:n}),(0,y.jsxs)(h.A,{WRAPPER:"div","aria-label":"".concat(n," current day, date and time"),className:p["forecast-city-day-time"],children:[(0,y.jsxs)("h3",{children:[t,", ",a]}),(0,y.jsx)("p",{"aria-live":"polite",children:s})]})]})}),g="FiveDays_weather-details-forecast__ZNJHu",b="DayCard_day-details__CJjnD",A="DayCard_fade-in__M9aXE",f="DayCard_day-details-delay__LyPLv",w="DayCard_day-temperatures__f3E-T";var P=t(55);const R=a.memo(function(e){let{index:i,daysOfWeek:t,weatherIconUrl:s,maxTemp:r,minTemp:n,unit:c,weatherMainDescription:l,fadeIn:o,delay:d}=e;const[u,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(o){const e=setTimeout(()=>{m(!0)},d);return()=>clearTimeout(e)}},[o,d]),(0,y.jsxs)(h.A,{className:"".concat(b," ").concat(u?A:""," ").concat(u?f:""),style:{transitionDelay:"".concat(d,"ms")},children:[(0,y.jsx)("h4",{children:t[i]}),(0,y.jsx)(P.A,{imgSrc:s,altText:"Weather icon representing ".concat(l)}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:w,children:[(0,y.jsxs)("strong",{children:[r,c]}),(0,y.jsxs)("small",{"aria-label":"Minimum temperature",children:[n,c]})]})]})});var N=t(885);const W=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D=a.memo(function(e){let{daysOfWeek:i}=e;const{forecastData:t,weatherData:s,isCelsius:r}=(0,_.X)().state,n=(0,a.useMemo)(()=>{var e,i;return(null===s||void 0===s||null===(e=s.weather)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.main)||"Weather data not available"},[s]),c=(0,a.useMemo)(()=>{const e=((e,i)=>{if(null===e||void 0===e||!e.list||0===e.list.length)return null;const t=e.list.reduce((e,i)=>{const t=new Date(1e3*i.dt).toISOString().split("T")[0];return e[t]||(e[t]=[]),e[t].push(i),e},{});return{forecast:Object.keys(t).slice(0,5).map(e=>{const a=t[e],s=new Date(1e3*a[0].dt),r=s.toLocaleString("en-US",{weekday:"short"}),n=i?"\xb0C":"\xb0F",c=a[0].weather[0].icon;return{date:s,dayOfWeek:r,unit:n,weatherIconUrl:"https://openweathermap.org/img/wn/".concat(c,".png"),maxTemp:Math.max(...a.map(e=>(0,N.mx)(e.main.temp_max,i))),minTemp:Math.min(...a.map(e=>(0,N.mx)(e.main.temp_min,i)))}})}})(t,r);return(null===e||void 0===e?void 0:e.forecast)||[]},[t,r]),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const e=setTimeout(()=>{o(!0)},100);return()=>clearTimeout(e)},[]),c&&0!==c.length?(0,y.jsx)(h.A,{WRAPPER:"div",className:g,children:(0,y.jsx)("ul",{children:c.map((e,t)=>(0,y.jsx)(R,{index:t,daysOfWeek:i,weatherIconUrl:e.weatherIconUrl,maxTemp:e.maxTemp,minTemp:e.minTemp,unit:e.unit,weatherMainDescription:n,fadeIn:l,delay:100*t},e.date.toString()))})}):(0,y.jsx)(h.A,{WRAPPER:"div",className:g,children:(0,y.jsx)("p",{children:"No forecast data available."})})}),S="UV_weather-details-uv-index__MsxEZ",E={"uv-description":"UVDescription_uv-description__weCa9","uv-low":"UVDescription_uv-low__qJkEU","uv-moderate":"UVDescription_uv-moderate__4oL1T","uv-high":"UVDescription_uv-high__W6zBx","uv-very-high":"UVDescription_uv-very-high__NlL0B","uv-extreme":"UVDescription_uv-extreme__758B4","uv-dangerous":"UVDescription_uv-dangerous__K+7U3"},C=a.memo(function(){const{uvIndex:e}=(0,_.X)().state,{text:i,textColor:t}=(0,a.useMemo)(()=>(e=>{let i="",t="";return e>=11?(i="Extreme - Avoid outdoor activities!",t="uv-extreme"):e>=8?(i="Very High - Take precautions!",t="uv-very-high"):e>=6?(i="High - Protection needed!",t="uv-high"):e>=3?(i="Moderate - Stay safe!",t="uv-moderate"):(i="Low - Safe to go outside!",t="uv-low"),{text:i,textColor:t}})(e),[e]);return(0,y.jsx)("p",{id:"uv-description","aria-describedby":"uv-title",className:"".concat(E["uv-description"]," ").concat(E[t]),children:(0,y.jsx)("span",{id:"uv-index-label",children:i})})}),T={meter:"UVChart_meter__kRtSj","circle-background":"UVChart_circle-background__MSYXi","circle-bar":"UVChart_circle-bar__MdBzr","center-text":"UVChart_center-text__WxUQh","circle-bar-low":"UVChart_circle-bar-low__pYgNR","circle-bar-moderate":"UVChart_circle-bar-moderate__-Benw","circle-bar-high":"UVChart_circle-bar-high__cg7hN","circle-bar-very-high":"UVChart_circle-bar-very-high__p70jl","circle-bar-extreme":"UVChart_circle-bar-extreme__0sAW4","circle-bar-rotate":"UVChart_circle-bar-rotate__9mIS5"},U=a.memo(function(){const{uvIndex:e,error:i}=(0,_.X)().state,t=(0,a.useMemo)(()=>e/14*360,[e]),s=(0,a.useMemo)(()=>e<=2?"circle-bar-low":e<=5?"circle-bar-moderate":e<=7?"circle-bar-high":e<=10?"circle-bar-very-high":"circle-bar-extreme",[e]);return(0,y.jsxs)(h.A,{WRAPPER:"div",className:T.meter,children:[(0,y.jsx)(h.A,{WRAPPER:"div",className:T["circle-background"]}),(0,y.jsx)(h.A,{WRAPPER:"div",className:"".concat(T["circle-bar"]," ").concat(T[s]," ").concat(T["circle-bar-rotate"]),style:{"--rotation":"".concat(t,"deg")},role:"img","aria-label":"UV level indicator: ".concat(e,", ").concat(s.replace("circle-bar-","").replace("-"," "))}),i?(0,y.jsx)("div",{id:"uv-error","aria-describedby":"uv-title",role:"alert","aria-live":"assertive",className:T["center-text"],children:"There was an error loading the UV data."}):(0,y.jsxs)("p",{"aria-labelledby":"uv-title uv-index-label",className:T["center-text"],children:[(0,y.jsx)("span",{id:"uv-index-label",className:"visually-hidden",children:"UV Index:"}),(0,y.jsx)("span",{id:"uv-index",children:e})]})]})}),k=a.memo(function(){const{isCitySearched:e}=(0,_.X)().state;return(0,y.jsxs)(h.A,{WRAPPER:"div",className:"".concat(d," ").concat(e?r:""),children:[(0,y.jsx)("h5",{id:"uv-title",children:"UV Index"}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:S,children:[(0,y.jsx)(U,{}),(0,y.jsx)(C,{})]})]})}),M="Wind_weather-details-wind__1wdcS",V="Wind_orientation-unit-toggle-group__beq9W",X="WindSpeed_weather-number-unit-group__jeVKn";var H=t(899);const I=a.memo(function(e){let{isMetric:i}=e;const{windData:t}=(0,_.X)().state;if(!t)return null;const a=(0,H.Hh)(t.speed,i),s=i?"km/h":"m/s";return(0,y.jsx)(h.A,{WRAPPER:"div",className:X,children:(0,y.jsxs)("p",{"aria-describedby":"wind-title",children:[(0,y.jsx)("span",{id:"wind-speed",children:a}),(0,y.jsx)("span",{id:"wind-unit",children:"".concat(s)})]})})}),O="WindOrientation_wind-orientation__MKova";function L(){const{windData:e}=(0,_.X)().state;return e?(0,y.jsxs)(h.A,{WRAPPER:"div",className:O,children:[(0,y.jsx)(P.A,{imgSrc:(0,H.Ls)(e.direction),altText:"Wind direction"}),(0,y.jsx)("p",{id:"wind-direction","aria-describedby":"wind-title",children:e.direction})]}):null}var B=t(265),F=t(310);const Y=a.memo(function(){const{isCitySearched:e}=(0,_.X)().state,[i,t]=(0,a.useState)(!0);return(0,y.jsxs)(h.A,{className:"".concat(d," ").concat(e?r:""),children:[(0,y.jsx)("h5",{id:"wind-title",children:"Wind Status"}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:M,children:[(0,y.jsx)(I,{isMetric:i}),(0,y.jsxs)(h.A,{WRAPPER:"div",ariaRole:"group",ariaLabelledBy:"wind-status-group",className:V,children:[(0,y.jsx)(L,{}),(0,y.jsx)(B.A,{children:(0,y.jsxs)(h.A,{WRAPPER:"div",className:u.A["toggle-unit-group"],children:[(0,y.jsx)("h6",{id:"wind-status-group",className:"visually-hidden",children:"Wind orientation and unit toggle"}),(0,y.jsxs)(F.A,{ariaLabel:"Toggle wind speed unit to ".concat(i?"km/h":"m/s","$"),ariaDescribedBy:"wind-toggle-tooltip",ariaPressed:i,className:"".concat(u.A["toggle-unit-btn"]," ").concat(u.A["toggle-unit-btn-wind-speed"]),callback:()=>{t(e=>!e)},children:[i?"m/s":"km/h",(0,y.jsx)("span",{id:"wind-toggle-tooltip",className:u.A["wind-unit-tooltip"],role:"tooltip",children:"Switch"})]})]})})]})]})]})}),z=t.p+"static/media/sunset.45f615ea119e5a1af90b.png",J=t.p+"static/media/sunrise.2f522b1af5c815730b2b.png",q="SunriseSunset_weather-details-sunrise-sunset__O-v4x",G="TimeData_time-details__kydxv",K="RenderTimeData_time-data__mrcYj";const Z=function(e){let{time:i,timeSuffix:t}=e;return(0,y.jsxs)(h.A,{WRAPPER:"div",className:K,children:[(0,y.jsx)("p",{"aria-label":"sunrise and sunset time",children:i}),(0,y.jsx)("span",{"aria-label":"sunrise and sunset ".concat(t),children:t})]})},Q=a.memo(function(e){let{time:i,timeSuffix:t,imgSrc:a,imgAltText:s}=e;return(0,y.jsxs)(h.A,{WRAPPER:"div",className:G,children:[(0,y.jsx)(P.A,{role:"presentation",imgSrc:a,altText:s}),(0,y.jsx)(Z,{time:i,timeSuffix:t})]})}),$=a.memo(function(){const{sunrise:e,sunset:i,isCitySearched:t}=(0,_.X)().state;return(0,y.jsxs)(h.A,{"aria-label":"Sunrise and sunset information",className:"".concat(d," ").concat(t?r:""),children:[(0,y.jsx)("h5",{id:"sunrise-sunset-title",children:"Sunrise & Sunset"}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:q,children:[(0,y.jsx)(Q,{time:e,timeSuffix:"AM",imgSrc:J,imgAltText:"An illustration of the sunrise"}),(0,y.jsx)(Q,{time:i,timeSuffix:"PM",imgSrc:z,imgAltText:"An illustration of the sunset"})]})]})}),ee="Humidity_humidity__Mxuaj",ie="Humidity_humidity-percentage__Wvj6s",te="HumidityDescription_humidity-description__WiHJ7",ae="HumidityDescription_humidity-text__9+ySo",se=t.p+"static/media/humidity-normal.842ea078ff99d274cc76.png",re=t.p+"static/media/humidity-average.229716bdff780fee6134.png",ne=t.p+"static/media/humidity-high.2cdd83f4bb96ece3bc1b.png";const ce=function(){const{humidity:e}=(0,_.X)().state,{mark:i,description:t}=(0,a.useMemo)(()=>(e=>{let i,t;return e<=25?(t="Normal",i=se):e<=56?(t="Average",i=re):(t="High",i=ne),{mark:i,description:t}})(e),[e]);return(0,y.jsxs)(h.A,{WRAPPER:"div",className:te,children:[(0,y.jsx)("p",{className:ae,children:t}),(0,y.jsx)(P.A,{imgSrc:i,altText:"Humidity mark - ".concat(t)})]})},le=a.memo(function(){const{humidity:e,isCitySearched:i}=(0,_.X)().state;return(0,y.jsxs)(h.A,{role:"region","aria-label":"Humidity information",className:"".concat(d," ").concat(i?r:""),children:[(0,y.jsx)("h5",{id:"humidity-title",children:"Humidity"}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:ee,children:[(0,y.jsxs)("p",{className:ie,children:[e,"%"]}),(0,y.jsx)(ce,{})]})]})}),oe="Visibility_visibility__P+XeR",de={"visibility-description":"Description_visibility-description__SP-Ay"},ue=t.p+"static/media/visibility-poor.632416f6e6ae0877a2e9.png",me=t.p+"static/media/visibility-average.8ff2308cf05852e1409e.png",he=t.p+"static/media/visibility-excellent.712f789450b93fa9ac8b.png";const xe=function(e){let{visibility:i}=e;const{mark:t,description:s}=(0,a.useMemo)(()=>(e=>{let i="",t=null;return e<=2.5?(i="Poor",t=ue):e<=5.5?(i="Average",t=me):(i="Excellent",t=he),{mark:t,description:i}})(i),[i]);return null==i?(0,y.jsx)("div",{role:"alert","aria-live":"assertive",className:de["visibility-error"],children:"Visibility data unavailable."}):(0,y.jsxs)(h.A,{WRAPPER:"figure",className:de["visibility-description"],children:[(0,y.jsx)("figcaption",{id:"visibility-description",children:s}),(0,y.jsx)(P.A,{imgSrc:t,altText:"Visibility mark indicating: ".concat(s),"aria-labelledby":"visibility-description"})]})},ve={"visibility-distance":"RenderData_visibility-distance__kchVe"};const pe=function(e){let{visibility:i}=e;return null==i?(0,y.jsx)("div",{role:"alert","aria-live":"assertive",className:ve["visibility-error"],children:"Visibility data unavailable."}):(0,y.jsx)(h.A,{WRAPPER:"div",children:(0,y.jsxs)("p",{"aria-labelledby":"visibility-title visibility-value-label",className:ve["visibility-distance"],children:[(0,y.jsxs)("span",{id:"visibility-value-label",className:"visually-hidden",children:["Visibility:"," "]}),i,(0,y.jsx)("span",{"aria-hidden":"true",children:"km"})]})})},_e=a.memo(function(){var e,i;const{isCitySearched:t,forecastData:a}=(0,_.X)().state,s=null===a||void 0===a||null===(e=a.list)||void 0===e||null===(i=e[0])||void 0===i?void 0:i.visibility,n=(s/1e3).toFixed(1);return(0,y.jsx)(h.A,{WRAPPER:"div",className:"".concat(d," ").concat(t?r:""),children:(0,y.jsxs)(h.A,{WRAPPER:"div",className:oe,children:[(0,y.jsx)("h5",{id:"visibility-title",children:"Visibility"}),(0,y.jsx)(pe,{visibility:n}),(0,y.jsx)(xe,{visibility:n})]})})}),ye="Pollutants_pollutants__XfxGI",je="Pollutant_pollutant-value__iuTI6";const ge=function(e){let{pollutant:i,value:t}=e;return(0,y.jsxs)(h.A,{children:[(0,y.jsx)("strong",{children:i.toUpperCase()}),":"," ",(0,y.jsxs)("span",{className:je,children:[t," \xb5g/m\xb3"]})]})},be=a.memo(function(){var e;const{airQualityData:i,isCitySearched:t}=(0,_.X)().state,a=null===i||void 0===i||null===(e=i.list[0])||void 0===e?void 0:e.components;return a?(0,y.jsxs)(h.A,{WRAPPER:"div",className:"".concat(d," ").concat(t?r:""),children:[(0,y.jsx)("h5",{id:"pollutants-title",children:"Pollutants"}),(0,y.jsx)(h.A,{WRAPPER:"ul",className:ye,children:Object.entries(a).map(e=>{let[i,t]=e;return(0,y.jsx)(ge,{pollutant:i,value:t},i)})})]}):(0,y.jsx)("p",{className:"no-data",role:"status",children:"No air quality data available for this location."})});var Ae=t(117),fe=t(872);const we=a.memo(function(e){let{celsiusBtnClass:i,fahrenheitBtnClass:t,toggleUnitsWrapperClass:a,showError:s}=e;const r="".concat(Ae.A["search-wrapper"]," ").concat(Ae.A["weather-details-search-wrapper"]),n=s?"".concat(r," ").concat(Ae.A["search-wrapper-error"]):r;return(0,y.jsxs)(h.A,{WRAPPER:"header",className:c,children:[(0,y.jsx)("h1",{id:"forecast-title",children:"5-day forecast"}),s?(0,y.jsx)(h.A,{WRAPPER:"div","aria-label":"Forecast controls",children:(0,y.jsx)(fe.A,{searchInputClassName:n,isDetailsHeaderSuggestions:!0})}):(0,y.jsx)(h.A,{WRAPPER:"div","aria-label":"Forecast controls",children:(0,y.jsx)(fe.A,{searchInputClassName:r,isDetailsHeaderSuggestions:!0})}),!s&&(0,y.jsx)(B.A,{celsiusBtnClass:"".concat(u.A["weather-details-toggle-celsius-btn"]," ").concat(i),fahrenheitBtnClass:"".concat(u.A["weather-details-toggle-fahrenheit-btn"]," ").concat(t),toggleUnitsWrapperClass:a})]})});var Pe=t(348),Re=t.n(Pe);const Ne={"-10800":"Europe/Moscow","-7200":"Europe/Paris","-14400":"America/New_York","-25200":"America/Los_Angeles","-18000":"America/Chicago",0:"Europe/London",3600:"Europe/Paris",10800:"Europe/Moscow",14400:"Asia/Dubai",32400:"Asia/Tokyo",39600:"Australia/Sydney",28800:"Asia/Shanghai"},We=e=>{const i=(0,a.useMemo)(()=>{var i,t;if(void 0!==(null===e||void 0===e||null===(i=e.city)||void 0===i?void 0:i.timezone)){const i=(t=e.city.timezone,Ne[t]||null);if(i)return i}return Re().tz.guess()},[e]);return(0,a.useMemo)(()=>{const e=Re()().tz(i);return{currentTime:e.format("HH:mm"),currentDayOfWeek:e.format("dddd"),currentDate:e.format("DD.MM.YYYY")}},[i])};var De=t(416);const Se=a.memo(function(){const{forecastData:e,isCelsius:i,forecastIsLoading:t,error:c}=(0,_.X)().state,{currentTime:d,currentDayOfWeek:p,currentDate:g}=We(e),[b,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{A(!1);const e=setTimeout(()=>A(!0),50);return()=>clearTimeout(e)},[]);const f=(0,a.useMemo)(()=>(e=>{const i=W.indexOf(e);if(-1===i)return[];const t=[];for(let a=1;a<=5;a++)t.push(W[(i+a)%W.length]);return t})(p),[p]),w=i?u.A["weather-details-unit-accent"]:"",P=i?"":u.A["weather-details-unit-accent"];return(0,y.jsx)(h.A,{WRAPPER:"div",className:"".concat(s," ").concat(b?r:""),children:(0,y.jsxs)(h.A,{WRAPPER:"div",className:n,children:[!c&&(0,y.jsx)(v.A,{direction:"left",label:"Go to basic weather card",actionType:"TOGGLE_WEATHER_DETAILS",payload:!1}),(0,y.jsx)(we,{celsiusBtnClass:"".concat(u.A["weather-details-toggle-celsius-btn"]," ").concat(w),fahrenheitBtnClass:"".concat(u.A["weather-details-toggle-fahrenheit-btn"]," ").concat(P),toggleUnitsWrapperClass:u.A["toggle-units-wrapper"],showError:c}),t&&(0,y.jsx)(x.A,{className:m.A["weather-details-loading-text"],children:"Loading forecast data..."}),c&&(0,y.jsx)(De.A,{children:c}),!e&&!t&&!c&&(0,y.jsx)(De.A,{children:"Something went wrong. Please try again or check your input."}),e&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j,{currentTime:d,currentDay:p,currentDate:g}),(0,y.jsx)(D,{daysOfWeek:f}),(0,y.jsxs)(h.A,{WRAPPER:"div",className:l,children:[(0,y.jsx)("h4",{children:"Today's Highlights"}),(0,y.jsxs)("ul",{className:o,children:[(0,y.jsx)(k,{}),(0,y.jsx)(Y,{}),(0,y.jsx)($,{}),(0,y.jsx)(le,{}),(0,y.jsx)(_e,{}),(0,y.jsx)(be,{})]})]})]})]})})})}}]);
//# sourceMappingURL=999.ebd804e3.chunk.js.map